<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Music Player</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    </head>
    <body>
        <header>
            <div class="menu_side1">
                <nav>
                    <h5 class="subtitle">3 L Followers. 40 Songs. 1h 9min</h5>
                    <div class="buttons">
                        <button><i class="bi bi-play-fill"></i>Play Songs</button>
                        <button><i class="bi bi-plus"></i> Follow</button>
                    </div>
                    <div class="search">
                        <i class="bi bi-search"></i>
                        <input type="text" placeholder="Search Music..." >
                        
                    </div><button onclick="logout()" class="logout">Logout</button>
                </nav>
            </div>
           


            <div class="song_side">
                    <li class="songItem">
                        <img src="./New folder/th (2).jpg">
                        <div class="playbtn">
                            <h4 ><span></span><i onclick="playPause()" class="bi playList bi-play-fill" id="1"></i></h4>                           
                        </div>
                        <h5>
                            Let Me Love You
                            <div class="subtitle">DJ Snake - Encore</div>
                        </h5>
                    </li>
                

                    <li class="songItem">
                        <img src="./New folder/th (3).jpg">
                        <div class="playbtn">
                            <h4 ><span></span><i onclick="playPause()" class="bi playList bi-play-fill" id="2"></i></h4>
                        </div>
                        <h5>
                            STAY
                            <div class="subtitle">E The kid LAROI - Stay</div>
                        </h5>
                    </li>


                    <li class="songItem">
                        <img src="./New folder/th.jpg">
                        <div class="playbtn">
                            <h4 ><span></span><i onclick="playPause()" class="bi playList bi-play-fill" id="3"></i></h4>
                        </div>
                        <h5>
                            Calm Down
                            <div class="subtitle">Rema - Calm Down</div>
                        </h5>
                    </li>


                    <li class="songItem">
                        <img src="./New folder/th (1).jpg">
                        <div class="playbtn">
                            <h4 ><span></span><i onclick="playPause()" class="bi playList bi-play-fill" id="4"></i></h4>
                        </div>
                        <h5>
                            Senorita
                            <div class="subtitle">Shown Mendes - Senorita</div>
                        </h5>
                    </li>


                    <li class="songItem">
                        <img src="./New folder/th(4).jpg">
                        <div class="playbtn">
                            <h4 ><span></span><i onclick="playPause()" class="bi playList bi-play-fill" id="5"></i></h4>
                        </div>
                        <h5>
                            Shape Of You
                            <div class="subtitle">Ed Sheeren - Shape Of You</div>
                        </h5>
                    </li>
            </div>


            <div class="master_play">
            
                <div class="bar">
                    <input type="range" id="seek" min="0" value="0" max="100">
                    <div class="bar2" id="bar2"></div>
                        <div class="dot"></div>
                </div>

                <div class="name">
                    <li class="songItem">
                        <img src="./New folder/th (2).jpg" id="masterposter">
                        <h5>
                            Let Me Love You
                            <div class="subtitle">DJ Snake - Encore</div> 
                        </h5>
                    </li>

                    <div class="icon">
                        <i class="bi bi-shuffle"></i>
                
                                              
                            <i class="fa-solid fa-backward-step"></i>
                                <div class="buttons">
                                    <button onclick="playPause()"><i class="bi bi-play-fill" id="masterPlay"></i> </button>
                                    <!-- <button onclick="playPause()"><i class="bi bi-pause" id="ctrlIcon2"></i> </button> -->

                                </div>
                            <i class="fa-solid fa-forward-step"></i>
                       
                        <i class="bi bi-repeat"></i>

                        
                    </div>
                    <div class="right">
                        <div class="right2">
                        <span class="currentStart">0:00</span>
                        <span> / </span>
                        <span class="currentEnt">0:00</span>
                        <div class="buttons">
                        <button>Auto</button>
                        </div>
                        <i class="bi1 bi-volume-up-fill"></i>
                        
                        <i class="bi bi-music-note-list"></i>
                        </div>
                    </div>
                </div>  
            </div>
        </header>
        <script src="app.js"></script>  
    </body>
    <script>
        // let params = {}

        // let regex = /([^&=]+)=([^&]*)/g, m

        // while(m = regex.exec(location.href)){
        //     params[decodeURIComponent(m[1])] = decodeURIComponent(m[2])
        // }

        // if(Object.keys(params).lengh>0){
        //     localStorage.setItem('authInfo', JSON.stringfy(params))
        // }

        // window.history.pushState({},document.title,"/" + "profile.html")

        // let info = JSON.parse(localStorage.getItem('authInfo'))
        // console.log(JSON.parse(localStorage.getItem('authInfo')))
        // console.log(info['access_token'])
        // console.log(info['expires_in'])

        // fetch("https://www.googleapis.com/oauth2/v3/userinfo",{
        //     headers:{
        //         "Authorization": `Bearer ${info['access_token']}`
        //     }
        // })

        // .then((data)=>data.json())
        // .then((info)=>{
        //     console.log(info)
        //     document.getElementById('subtitle').innerHTML += info.name
        //     // document.getElementById('')
        // })







        function logout(){
            fetch("https://oauth2.googleapis.com/revoke?token="+ info['access_token'],{
                method:'POST',
                headers:{
                    'Content-type':'application/x-www-form-urlencoded'
                }
            })
            .then((data) =>{
                location.href ="http://localhost:5500/index.html"
            })

        }
    </script>
</html>